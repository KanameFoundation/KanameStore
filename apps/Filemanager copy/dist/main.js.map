{"version":3,"file":"main.js","sources":["webpack://Filemanager/webpack/runtime/define_property_getters","webpack://Filemanager/webpack/runtime/has_own_property","webpack://Filemanager/webpack/runtime/make_namespace_object","webpack://Filemanager/./node_modules/@osjs/gui/src/provider.js","webpack://Filemanager/./node_modules/hyperapp/src/index.js","webpack://Filemanager/./locales.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/hyperapp/src/index.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Element.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Box.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/typeof.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/BoxStyled.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Icon.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/defineProperty.js","webpack://Filemanager/./node_modules/@osjs/gui/src/utils.js","webpack://Filemanager/./node_modules/@osjs/gui/src/element.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Button.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Menu.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Toolbar.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Statusbar.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Menubar.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/hyperapp-nestable/src/index.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Panes.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/ListView.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Tabs.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/IconView.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/TextField.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Expander.js","webpack://Filemanager/./node_modules/@osjs/gui/src/components/Label.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/helpers/createClass.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/regenerator-runtime/runtime.js","webpack://Filemanager/./node_modules/@osjs/gui/src/contextmenu.js","webpack://Filemanager/./node_modules/@osjs/gui/node_modules/@babel/runtime/regenerator/index.js","webpack://Filemanager/./index.js"],"sourcesContent":["__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {ContextMenu} from './contextmenu.js';\n\n/*\n * Check if a target allows for context menu\n */\nconst validContextMenuTarget = ev => {\n  const target = ev.target;\n  let isValid = target.tagName === 'TEXTAREA';\n  if (!isValid && target.tagName === 'INPUT') {\n    isValid = ['text', 'password', 'number', 'email'].indexOf(target.type) !== -1;\n  }\n\n  return isValid;\n};\n\n/**\n * OS.js GUI Service Provider\n *\n * @desc Provides wrapper services around GUI features\n */\nexport class GUIServiceProvider {\n\n  constructor(core) {\n    this.core = core;\n    this.contextmenu = new ContextMenu(core);\n  }\n\n  destroy() {\n    const menu = document.getElementById('osjs-context-menu');\n    if (menu) {\n      menu.remove();\n    }\n\n    this.contextmenu.destroy();\n  }\n\n  async init() {\n    const contextmenuApi = {\n      show: (...args) => this.contextmenu.show(...args),\n      hide: (...args) => this.contextmenu.hide(...args)\n    };\n\n    this.core.instance('osjs/contextmenu', (...args) => {\n      if (args.length) {\n        return contextmenuApi.show(...args);\n      }\n\n      return contextmenuApi;\n    });\n\n    this.core.$root.addEventListener('contextmenu', (ev) => {\n      if (validContextMenuTarget(ev)) {\n        return;\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    });\n  }\n\n  start() {\n    const callback = ev => {\n      const menu = document.getElementById('osjs-context-menu');\n      const hit = menu && menu.contains(ev.target);\n\n      if (!hit && this.contextmenu) {\n        this.contextmenu.hide();\n      }\n    };\n\n    this.core.$root.addEventListener('click', callback, true);\n    this.core.once('destroy', () => {\n      this.core.$root.removeEventListener('click', callback, true);\n    });\n\n    this.contextmenu.init();\n  }\n}\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","export const en_EN = {\r\n  LBL_SHOW_HIDDEN_FILES: 'Show hidden files',\r\n  LBL_MINIMALISTIC: 'Minimalistic',\r\n  LBL_OPEN_WITH: 'Open with...',\r\n  LBL_SHOW_DATE: 'Show date column',\r\n  LBL_DIR_AND_FILE_STATUS: '{0}, {1}, {2} bytes total',\r\n  LBL_DIR_OR_FILE_STATUS: '{0}, {1} bytes total',\r\n  SINGLE_DIR: 'directory',\r\n  MULTI_DIR: 'directories',\r\n  SINGLE_FILE: 'file',\r\n  MULTI_FILE: 'files',\r\n  LBL_DATE: 'Date', // FIXME: Move to client\r\n  LBL_LOADING: 'Loading {0}',\r\n  DIALOG_MKDIR_MESSAGE: 'Create new directory',\r\n  DIALOG_MKDIR_PLACEHOLDER: 'New directory',\r\n  DIALOG_RENAME_MESSAGE: 'Rename {0}?',\r\n  DIALOG_DELETE_MESSAGE: 'Delete {0} file(s)?',\r\n  DIALOG_PROGRESS_MESSAGE: 'Uploading {0}...',\r\n  MSG_ERROR: 'An error occurred',\r\n  MSG_UPLOAD_ERROR: 'Failed to upload file(s)',\r\n  MSG_READDIR_ERROR: 'An error occurred while reading directory: {0}',\r\n  MSG_PASTE_ERROR: 'Failed to paste file(s)',\r\n  MSG_MKDIR_ERROR: 'Failed to create directory',\r\n  MSG_RENAME_ERROR: 'Failed to rename',\r\n  MSG_DELETE_ERROR: 'Failed to delete'\r\n};\r\n\r\nexport const sv_SE = {\r\n  LBL_SHOW_HIDDEN_FILES: 'Visa dölda filer',\r\n  LBL_MINIMALISTIC: 'Minimalistic',\r\n  LBL_OPEN_WITH: 'Öppna med...',\r\n  LBL_SHOW_DATE: 'Visa datumkolumn',\r\n  LBL_DIR_AND_FILE_STATUS: '{0}, {1}, {2} byte totalt',\r\n  LBL_DIR_OR_FILE_STATUS: '{0}, {1} byte totalt',\r\n  SINGLE_DIR: 'katalog',\r\n  MULTI_DIR: 'kataloger',\r\n  SINGLE_FILE: 'fil',\r\n  MULTI_FILE: 'filer',\r\n  LBL_DATE: 'Datum', // FIXME: Move to client\r\n  LBL_LOADING: 'Laddar {0}',\r\n  DIALOG_MKDIR_MESSAGE: 'Skapa ny katalog',\r\n  DIALOG_MKDIR_PLACEHOLDER: 'Ny katalog',\r\n  DIALOG_RENAME_MESSAGE: 'Döp om {0}?',\r\n  DIALOG_DELETE_MESSAGE: 'Radera {0} fil(er)?',\r\n  MSG_ERROR: 'Ett fel uppstod',\r\n  MSG_UPLOAD_ERROR: 'Det gick inte att ladda upp filer(na)',\r\n  MSG_READDIR_ERROR: 'Ett fel uppstod när katalogen lästes: {0}',\r\n  MSG_PASTE_ERROR: 'Det gick inte att klistra in fil(erna)',\r\n  MSG_MKDIR_ERROR: 'Det gick inte att skapa katalogen',\r\n  MSG_RENAME_ERROR: 'Det gick inte att byta namn',\r\n  MSG_DELETE_ERROR: 'Det gick inte att ta bort'\r\n};\r\n\r\nexport const nb_NO = {\r\n  LBL_SHOW_HIDDEN_FILES: 'Vis skjulte filer',\r\n  LBL_MINIMALISTIC: 'Minimalistisk',\r\n  LBL_OPEN_WITH: 'Åpne med...',\r\n  LBL_SHOW_DATE: 'Vis dato kolonne',\r\n  LBL_DIR_AND_FILE_STATUS: '{0}, {1}, {2} bytes totalt',\r\n  LBL_DIR_OR_FILE_STATUS: '{0}, {1} bytes totalt',\r\n  SINGLE_DIR: 'mappe',\r\n  MULTI_DIR: 'mapper',\r\n  SINGLE_FILE: 'fil',\r\n  MULTI_FILE: 'filer',\r\n  LBL_DATE: 'Dato',\r\n  LBL_LOADING: 'Laster {0}',\r\n  DIALOG_MKDIR_MESSAGE: 'Lag ny mappe',\r\n  DIALOG_MKDIR_PLACEHOLDER: 'Ny mappe',\r\n  DIALOG_RENAME_MESSAGE: 'Omdøpe {0}?',\r\n  DIALOG_DELETE_MESSAGE: 'Slette {0} fil(er)?',\r\n  MSG_ERROR: 'En feil oppstod',\r\n  MSG_UPLOAD_ERROR: 'Feil under opplasting av fil(er)',\r\n  MSG_READDIR_ERROR: 'En feil oppstod under lesing av mappe: {0}',\r\n  MSG_PASTE_ERROR: 'Feil oppstod under liming av fil(er)',\r\n  MSG_MKDIR_ERROR: 'Feil oppstod under opprettelse av mappe',\r\n  MSG_RENAME_ERROR: 'Feil oppstod under omdøping',\r\n  MSG_DELETE_ERROR: 'Feil oppstod under sletting'\r\n};\r\n\r\nexport const vi_VN = {\r\n  LBL_SHOW_HIDDEN_FILES: 'Hiển thị tập tin ẩn',\r\n  LBL_MINIMALISTIC: 'Tối giản',\r\n  LBL_OPEN_WITH: 'Mở bằng...',\r\n  LBL_SHOW_DATE: 'Hiện cột thời gian',\r\n  LBL_DIR_AND_FILE_STATUS: '{0}, {1}, tổng dung lượng {2} bytes',\r\n  LBL_DIR_OR_FILE_STATUS: '{0}, tổng dung lượng {1} bytes',\r\n  SINGLE_DIR: 'thư mục',\r\n  MULTI_DIR: 'thư mục',\r\n  SINGLE_FILE: 'tập tin',\r\n  MULTI_FILE: 'các tập tin',\r\n  LBL_DATE: 'Thời gian',\r\n  LBL_LOADING: 'Đang tải {0}',\r\n  DIALOG_MKDIR_MESSAGE: 'Tạo thư mục mới',\r\n  DIALOG_MKDIR_PLACEHOLDER: 'Thư mục mới',\r\n  DIALOG_RENAME_MESSAGE: 'Đổi tên {0}?',\r\n  DIALOG_DELETE_MESSAGE: 'Xoá {0} (các) tập tin?',\r\n  MSG_ERROR: 'Đã xảy ra lỗi',\r\n  MSG_UPLOAD_ERROR: 'Không thể tải lên tập tin',\r\n  MSG_READDIR_ERROR: 'Đã xảy ra lỗi trong khi đọc thư mục: {0}',\r\n  MSG_PASTE_ERROR: 'Không thể dán tập tin',\r\n  MSG_MKDIR_ERROR: 'Không thể tạo thư mục',\r\n  MSG_RENAME_ERROR: 'Không thể đổi tên',\r\n  MSG_DELETE_ERROR: 'Không thể xóa'\r\n};\r\n\r\nexport const pt_BR = {\r\n  LBL_SHOW_HIDDEN_FILES: 'Mostrar arquivos ocultos',\r\n  LBL_MINIMALISTIC: 'Minimalista',\r\n  LBL_OPEN_WITH: 'Abrir com...',\r\n  LBL_SHOW_DATE: 'Mostrar coluna Data',\r\n  LBL_DIR_AND_FILE_STATUS: '{0}, {1}, {2} bytes no total',\r\n  LBL_DIR_OR_FILE_STATUS: '{0}, {1} bytes no total',\r\n  SINGLE_DIR: 'diretório',\r\n  MULTI_DIR: 'diretórios',\r\n  SINGLE_FILE: 'arquivo',\r\n  MULTI_FILE: 'arquivos',\r\n  LBL_DATE: 'Data', // FIXME: Move to client\r\n  LBL_LOADING: 'Carregando {0}',\r\n  DIALOG_MKDIR_MESSAGE: 'Criar novo diretório',\r\n  DIALOG_MKDIR_PLACEHOLDER: 'Novo diretório',\r\n  DIALOG_RENAME_MESSAGE: 'Renomear {0}?',\r\n  DIALOG_DELETE_MESSAGE: 'Deletar {0} arquivo(s)?',\r\n  MSG_ERROR: 'Um erro ocorreu',\r\n  MSG_UPLOAD_ERROR: 'Falha ao fazer upload do(s) arquivo(s)',\r\n  MSG_READDIR_ERROR: 'Um erro ocorreu ao ler o diretório: {0}',\r\n  MSG_PASTE_ERROR: 'Falha ao colar arquivo(s)',\r\n  MSG_MKDIR_ERROR: 'Falha ao criar diretório',\r\n  MSG_RENAME_ERROR: 'Falha ao renomear',\r\n  MSG_DELETE_ERROR: 'Falha ao deletar'\r\n};\r\n\r\nexport const fr_FR = {\r\n  LBL_SHOW_HIDDEN_FILES: 'Afficher les fichiers cachés',\r\n  LBL_MINIMALISTIC: 'Minimaliste',\r\n  LBL_OPEN_WITH: 'Ouvrir avec...',\r\n  LBL_SHOW_DATE: 'Affichier la colonne date',\r\n  LBL_DIR_AND_FILE_STATUS: '{0}, {1}, {2} bytes au total',\r\n  LBL_DIR_OR_FILE_STATUS: '{0}, {1} bytes au total',\r\n  SINGLE_DIR: 'dossier',\r\n  MULTI_DIR: 'dossiers',\r\n  SINGLE_FILE: 'dossier',\r\n  MULTI_FILE: 'des dossiers',\r\n  LBL_DATE: 'Date', // FIXME: Move to client\r\n  LBL_LOADING: 'Chargement en cours {0}',\r\n  DIALOG_MKDIR_MESSAGE: 'Créer nouveau dossier',\r\n  DIALOG_MKDIR_PLACEHOLDER: 'Nouveau dossier',\r\n  DIALOG_RENAME_MESSAGE: 'Renommer {0}?',\r\n  DIALOG_DELETE_MESSAGE: 'Supprimer {0} (des) dossiers?',\r\n  MSG_ERROR: 'Une erreur est survenue',\r\n  MSG_UPLOAD_ERROR: 'Echec du chargement du(des) fichier(s)',\r\n  MSG_READDIR_ERROR: 'Une erreur est survenue lors de la lecture du répertoire : {0}',\r\n  MSG_PASTE_ERROR: 'Impossible de coller le(s) file(s)',\r\n  MSG_MKDIR_ERROR: 'Impossible de créer le répertoire',\r\n  MSG_RENAME_ERROR: 'Echec du renommage',\r\n  MSG_DELETE_ERROR: 'Echec de la suppression'\r\n};\r\n\r\nexport const tr_TR = {\r\n  LBL_SHOW_HIDDEN_FILES: 'Gizli dosyaları göster',\r\n  LBL_MINIMALISTIC: 'Minimalist',\r\n  LBL_OPEN_WITH: 'Şununla aç:',\r\n  LBL_SHOW_DATE: 'Tarih sütununu göster',\r\n  LBL_DIR_AND_FILE_STATUS: 'toplamda {0}, {1}, {2} byte var',\r\n  LBL_DIR_OR_FILE_STATUS: 'toplamda {0}, {1} byte var',\r\n  SINGLE_DIR: 'dizin',\r\n  MULTI_DIR: 'dizinler',\r\n  SINGLE_FILE: 'dosya',\r\n  MULTI_FILE: 'dosyalar',\r\n  LBL_DATE: 'Tarih', // FIXME: Move to client\r\n  LBL_LOADING: 'Yükleniyor {0}',\r\n  DIALOG_MKDIR_MESSAGE: 'Yeni dizin oluştur',\r\n  DIALOG_MKDIR_PLACEHOLDER: 'Yeni dizin',\r\n  DIALOG_RENAME_MESSAGE: '{0} ismi değişsin mi?',\r\n  DIALOG_DELETE_MESSAGE: '{0} dosya(lar) silinsin mi?',\r\n  MSG_ERROR: 'Bir hata oldu',\r\n  MSG_UPLOAD_ERROR: 'Dosya(lar)ın yüklenmesi işlemi başarısız',\r\n  MSG_READDIR_ERROR: 'Belirtilen dizin okunurken bir hata oluştu: {0}',\r\n  MSG_PASTE_ERROR: 'Dosya(lar)ın yapıştırılması işlemi başarısız',\r\n  MSG_MKDIR_ERROR: 'Dizin oluşturma işlemi başarısız',\r\n  MSG_RENAME_ERROR: 'Yeniden adlandırma işlemi başarısız',\r\n  MSG_DELETE_ERROR: 'Silme işlemi başarısız'\r\n};","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * Elemet Box definition\n * @property {string} [class] Container class name\n * @property {number} [grow] Flexbox grow value\n * @property {number} [shrink] Flexbox shrink value\n * @property {number|string} [basis] Flexbox basis value\n * @property {string} [align] Flexbox alignItems value\n * @property {string} [justify] Flexbox justifyContent value\n * @property {number|string} [padding] Margin\n * @property {number|string} [margin] Margin\n * @property {string} [key] Hyperapp element key\n * @property {Function} [oncreate] Hyperapp oncreate function\n * @property {Function} [onupdate] Hyperapp onupdate function\n * @property {Function} [ondestroy] Hyperapp ondestroy function\n * @typedef BoxProperties\n */\n\nconst unitValue = (value, unset) => typeof value === 'number'\n  ? `${value}px`\n  : (value === false ? unset : value);\n\nconst boxPropNames = {\n  grow: value => ({flexGrow: value}),\n  shrink: value => ({flexShrink: value}),\n  basis: value => ({flexBasis: unitValue(value, 'auto')}),\n  align: value => ({alignItems: value}),\n  justify: value => ({justifyContent: value}),\n  padding: value => ({margin: unitValue(value, '0')}),\n  margin: value => ({margin: unitValue(value, '0')})\n};\n\n/**\n * A generic OS.js GUI container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Element = (props, children = []) => {\n  const givenClassNames = props.class instanceof Array\n    ? props.class\n    : [props.class];\n\n  const classNames = [\n    'osjs-gui',\n    ...givenClassNames\n  ];\n\n  if (props.orientation) {\n    classNames.push('osjs-gui-' + props.orientation);\n  }\n\n  const defaultStyle = typeof props.style === 'string'\n    ? {}\n    : Object.assign({}, props.style || {});\n\n  const style = Object.keys(props).reduce((result, prop) => {\n    const value = boxPropNames[prop]\n      ? boxPropNames[prop](props[prop])\n      : undefined;\n\n    return Object.assign({}, result, value);\n  }, defaultStyle);\n\n  return h('div', {\n    oncreate: props.oncreate,\n    ondestroy: props.ondestroy,\n    class: classNames.filter(s => !!s).join(' '),\n    style\n  }, children);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='horizontal'] Box orientation\n * @param {h[]} children Children\n */\nexport const Box = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'horizontal'\n  }, props, {\n    class: ['osjs-gui-box', props.class],\n  }), children);\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    module.exports[\"default\"] = module.exports, module.exports.__esModule = true;\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A styled flexbox container\n * @param {BoxProperties} props Properties\n * @param {h[]} children Children\n */\nexport const BoxStyled = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-styled', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * An icon\n * @param {Object} props Properties\n * @param {string} props.src Icon src\n * @param {string} [props.name] Icon name\n * @param {h[]} children Children\n */\nexport const Icon = (props, children) => {\n  const i = props && typeof props === 'object'\n    ? props.src\n    : props;\n\n  const n = props && typeof props === 'object'\n    ? props.name\n    : undefined;\n\n  return h('i', {\n    'data-icon': n,\n    class: 'osjs-icon',\n    style: {\n      backgroundImage: typeof props === 'string' ? `url(${i})` : undefined\n    }\n  });\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Filter an object based on keys\n * @param {Object} props Props\n * @param {String[]} filterKeys List of keys to filter\n * @return {Object}\n */\nexport const filteredProps = (props, filterKeys) => {\n  const keys = Object.keys(props);\n  const filter = k => filterKeys.indexOf(k) === -1;\n\n  return keys\n    .filter(filter)\n    .reduce((result, k) => Object.assign({\n      [k]: props[k]\n    }, result), {});\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport {h} from 'hyperapp';\nimport {filteredProps} from './utils';\nimport {Element} from './components/Element';\n\n/**\n * Creates a new field Element wrapper\n * @param {String} name Field name\n * @param {Object} props Field props\n * @param {Function} cb Callback to create inner element => (props)\n * @param {Function} cb Callback to get value => (event)\n */\nexport const createField = (name, props, defaultProps, cb, cbInput) => {\n  const oninput = props.oninput || function() {};\n  const onchange = props.onchange || function() {};\n  const onkeydown = props.onkeydown || function() {};\n\n  const getValue = cbInput || (ev => [ev.target.value]);\n  const fieldProps = Object.assign(\n    {\n      oninput: ev => oninput(ev, ...getValue(ev)),\n      onchange: ev => onchange(ev, ...getValue(ev)),\n      onkeydown: ev => {\n        if (ev.keyCode === 13 && props.onenter) {\n          props.onenter(ev, ...getValue(ev));\n        }\n        onkeydown(ev);\n      }\n    },\n    defaultProps,\n    filteredProps(props, ['choices', 'label', 'box', 'oninput', 'onchange'])\n  );\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: 'osjs-gui-field osjs-gui-' + name\n  }), cb(fieldProps));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\nimport {createField} from '../element';\n\n/**\n * A button\n * @param {Object} props Properties\n * @param {string} [props.icon] Icon source\n * @param {string} [props.label] Use this as label instead of children\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Button = (props = {}, children = []) =>\n  createField('button', props, {\n  }, (fieldProps) => {\n    const inner = [];\n    if (props.icon) {\n      inner.push(h(Icon, props.icon));\n    }\n\n    if (typeof props.label === 'string') {\n      inner.push(h('span', {class: 'osjs-label'}, props.label));\n    }\n\n    return h('button', fieldProps, [\n      ...inner,\n      ...children\n    ]);\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\n\nconst ul = (props, children = [], level = 0) => {\n\n  const label = child => {\n    const children = [];\n\n    if (child.type === 'checkbox' || typeof child.checked === 'boolean') {\n      children.push(h('span', {\n        class: 'osjs-gui-menu-checkbox ' + (child.checked ? 'active' : '')\n      }));\n    } else if (child.icon) {\n      children.push(h(Icon, child.icon));\n    }\n\n    children.push(h('span', {}, child.label));\n\n    return children;\n  };\n\n  const inner = (props, child) => {\n    if (typeof child.element === 'function') {\n      return child.element();\n    }\n\n    const className = child.type === 'separator'\n      ? 'osjs-gui-menu-separator'\n      : 'osjs-gui-menu-label ' + (child.disabled ? 'osjs__disabled' : '');\n\n    const children = [\n      h('span', {class: className}, label(child))\n    ];\n\n    if (child.items) {\n      children.push(ul(props, child.items, level + 1));\n    }\n\n    return children;\n  };\n\n  return h('ul', {\n    class: ''\n  }, children.map(\n    child => h('li', {\n      class: 'osjs-gui-menu-entry'\n    }, [\n      h('div', {\n        class: 'osjs-gui-menu-container',\n        'data-has-image': child.icon ? true : undefined,\n        'data-has-children': child.items ? true : undefined,\n        onmouseover: child.items ? props.onshow : undefined,\n        ontouchend: child.items ? props.onshow : undefined,\n        onclick: (ev) => {\n          if (child.items) {\n            return;\n          }\n\n          if (child.onclick) {\n            child.onclick(child, ev);\n          }\n\n          if (props.onclick) {\n            props.onclick(child, ev, child);\n          }\n        }\n      }, inner(props, child))\n    ])\n  ));\n};\n\n/**\n * Menu tree\n * @property {String} label Label\n * @property {String} [icon] Icon source\n * @property {Boolean} [disabled] Disabled state\n * @property {Boolean} [closeable] Disable close on click\n * @property {Function} [element] A callback that returns a virtual DOM element (ex. Hyperapp)\n * @property {Function} onclick Click callback\n * @property {MenuItems} [items] Child items\n * @typedef MenuItems\n */\n\n/**\n * A menu\n * @param {Object} props Properties\n * @param {Boolean} [props.visible=true] Visible property\n * @param {Object} [posprops.ition] Position\n * @param {MenuItems} [props.menu] Menu items\n */\nexport const Menu = (props) => h('div', {\n  id: 'osjs-context-menu',\n  className: 'osjs-gui osjs-gui-menu',\n  oncreate: props.oncreate,\n  onupdate: props.onupdate,\n  style: {\n    display: props.visible !== false ? 'block' : 'none',\n    top: props.position ? String(props.position.top) + 'px' : 0,\n    left: props.position ? String(props.position.left) + 'px' : 0\n  }\n}, ul(props, props.menu));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A toolbar\n * @desc Contains entries with spacing\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const Toolbar = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'vertical'\n  }, props, {\n    class: ['osjs-gui-toolbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Statusbar = (props, children) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-statusbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A menubar item\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const MenubarItem = (props, children = []) => {\n  const {onclick, data} = props;\n\n  return h('div', {\n    onclick: (ev) => {\n      if (typeof onclick === 'function') {\n        const parentNode = ev.target.parentNode;\n        const index = Array.prototype.indexOf.call(parentNode.children, ev.target);\n\n        onclick(ev, data || {}, index);\n      }\n    }\n  }, h('span', {}, children));\n};\n\n/**\n * A menubar container\n * @param {BoxProperties} [props] Box Properties\n * @param {MenubarItem[]} [props.items] Array of object\n * @param {h[]} children Children\n */\nexport const Menubar = (props, children = []) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-menubar', props.class]\n  }), [\n    ...(props.items || []).map(item => h(MenubarItem, {\n      data: item.data,\n      onclick: (item.onclick || props.onclick)\n    }, item.label)),\n    ...children\n  ]);\n","import {h, app} from 'hyperapp'\n\nexport default \nfunction nestable (state, actions, view, tagname) {\n    actions._$r = function () {return {}}\n    return function (props, children) {\n        return h(tagname || 'x-', {\n            key: props.key,\n            id: props.id,\n            class: props.class,\n            oncreate: function (el) {\n                var wired = app(\n                    state,\n                    actions,\n                    function (s, a) {\n                        var v = view(s, a)\n                        if (typeof v === 'function') v = v(el._$p, el._$c)\n                        return v\n                    },\n                    el\n                )\n                el._$p = props\n                el._$c = children\n                el._$r = wired._$r\n                el._$u = wired.uninit\n                wired.init && wired.init(props)\n                props.oncreate && props.oncreate(el)\n            },\n            onupdate: function (el) {\n                el._$p = props\n                el._$c = children\n                el._$r()\n                props.onupdate && props.onupdate(el)\n            },\n            ondestroy: function (el) {\n                el._$u && el._$u()\n            },\n            onremove: function (el, done) {\n               if (!props.onremove) return done()\n\n               props.onremove(el, done)\n            }\n        })\n    }    \n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\nimport {Element} from './Element';\n\nconst onmousedown = (ev, actions, orientation) => {\n  const {target, clientX, clientY} = ev;\n  const pane = target.previousSibling;\n  const {offsetWidth, offsetHeight} = pane;\n  const index = Array.from(target.parentNode.children).indexOf(pane);\n  const maxWidth = pane.parentNode.offsetWidth * 0.8;\n  const maxHeight = pane.parentNode.offsetHeight * 0.8;\n\n  if (index < 0) {\n    return;\n  }\n\n  const mousemove = ev => {\n    ev.preventDefault();\n\n    let size = orientation === 'vertical' ? offsetWidth : offsetHeight;\n\n    if (orientation === 'vertical') {\n      const diffX = ev.clientX - clientX;\n      size = Math.min(maxWidth, size + diffX);\n    } else {\n      const diffY = ev.clientY - clientY;\n      size = Math.min(maxHeight, size + diffY);\n    }\n\n    actions.setSize({index, size});\n  };\n\n  const mouseup = ev => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n  };\n\n  ev.preventDefault();\n  document.addEventListener('mousemove', mousemove);\n  document.addEventListener('mouseup', mouseup);\n};\n\nconst panes = (state, actions, children, orientation) => {\n  const spacers = Array(Math.ceil(children.length / 2))\n    .fill(null)\n    .map(() => h('div', {\n      class: 'osjs-gui-panes-spacer',\n      onmousedown: ev => onmousedown(ev, actions, orientation)\n    }));\n\n  const child = (c, i) => {\n    const w = state.sizes[i] ? String(state.sizes[i]) + 'px' : undefined;\n\n    return h('div', {\n      class: 'osjs-gui-panes-pane',\n      style: {\n        flex: w ? `0 0 ${w}` : w\n      }\n    }, c);\n  };\n\n  return children\n    .map(child)\n    .map((v, i) => [v, spacers[i]])\n    .reduce((a, b) => a.concat(b))\n    .filter(v => typeof v !== 'undefined');\n};\n\nconst view = (state, actions) => (props, children) => {\n  const orientation = props.orientation || 'vertical';\n\n  return h(Element, {\n    orientation,\n    class: 'osjs-gui-panes-inner'\n  }, panes(state, actions, children, orientation));\n};\n\nconst inner = nestable({\n  sizes: []\n}, {\n  init: props => ({sizes: props.sizes || [150]}),\n  setSize: ({index, size}) => state => {\n    const sizes = [].concat(state.sizes);\n    sizes[index] = size;\n    return {sizes};\n  }\n}, view, 'div');\n\n/**\n * Resizable panes\n * @param {Object} props Properties\n * @param {string} [props.orientation='vertical'] Pane orientation\n * @param {number[]} [props.sizes] Pane sizes\n * @param {h[]} children Children\n */\nexport const Panes = (props, children) => h(inner, {\n  class: 'osjs-gui-panes'\n}, children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps, doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nconst createView = props => {\n  let debounceScroll;\n\n  const cols = (paneIndex) => (row, rowIndex) => {\n    const col = row.columns[paneIndex] || {};\n    const selected = props.selectedIndex === rowIndex;\n    const colIcon = col.icon ? h(Icon, col.icon) : null;\n    const children = [h('span', {}, [typeof col === 'object' ? col.label : col])];\n\n    if (colIcon) {\n      children.unshift(colIcon);\n    }\n\n    return h('div', {\n      key: row.key,\n      'data-has-icon': col.icon ? true : undefined,\n      class: 'osjs-gui-list-view-cell' + (selected ? ' osjs__active' : ''),\n      ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: row.data, index: rowIndex, ev})),\n      ondblclick: (ev) => props.onactivate({data: row.data, index: rowIndex, ev}),\n      onclick: (ev) => props.onselect({data: row.data, index: rowIndex, ev}),\n      oncontextmenu: (ev) => props.oncontextmenu({data: row.data, index: rowIndex, ev}),\n      oncreate: (el) => props.oncreate({data: row.data, index: rowIndex, el})\n    }, children);\n  };\n\n  const pane = (index, col) => h('div', {\n    class: 'osjs-gui-list-view-pane',\n    style: col.style || {}\n  }, [\n    h('div', {\n      class: 'osjs-gui-list-view-header',\n      style: {\n        display: props.hideColumns ? 'none' : undefined\n      }\n    }, h('span', {}, typeof col === 'object' ? col.label : col)),\n    h('div', {\n      class: 'rows',\n      'data-zebra': String(props.zebra)\n    }, props.rows.map(cols(index)))\n  ]);\n\n  return h('div', {\n    class: 'osjs-gui-list-view-wrapper',\n    onscroll: ev => {\n      debounceScroll = clearTimeout(debounceScroll);\n      debounceScroll = setTimeout(() => {\n        props.onscroll(ev);\n      }, 100);\n    },\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.columns.map((c, i) => pane(i, c)));\n};\n\nexport const ListView = props => h(Element, Object.assign({\n  class: 'osjs-gui-list-view'\n}, props.box || {}), createView(filteredProps(props, ['box'])));\n\nexport const listView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      zebra: true,\n      columns: [],\n      rows: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      },\n      onscroll: (ev) => {\n        actions.scroll(ev);\n      }\n    }, state);\n\n    return (props = {}) => ListView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    scroll: () => state => state,\n    setRows: rows => ({rows}),\n    setColumns: columns => ({columns}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex})\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\n\nconst headers = ({labels, onchange, oncontextmenu}, state, actions) => (labels || [])\n  .map((label, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : '',\n    oncontextmenu: ev => {\n      (oncontextmenu || function() {})(ev, index, label);\n    },\n    onclick: ev => {\n      actions.setSelectedIndex(index);\n      (onchange || function() {})(ev, index, label);\n    }\n  }, h('span', {}, label)));\n\nconst panes = (state, children) => children\n  .map((child, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : ''\n  }, child));\n\nconst view = nestable({\n  selectedIndex: 0\n}, {\n  init: props => ({\n    selectedIndex: props.selectedIndex || 0\n  }),\n  setSelectedIndex: selectedIndex => state => ({selectedIndex})\n}, (state, actions) => (props, children) => h('div', {\n  class: 'osjs-gui-tabs-wrapper'\n}, [\n  h('div', {class: 'osjs-gui-tabs-header'}, headers(props, state, actions)),\n  h('div', {class: 'osjs-gui-tabs-panes'}, panes(state, children))\n]), 'div');\n\n/**\n * A tab container\n * @param {Object} props Properties\n * @param {String[]} props.labels Labels\n * @param {h[]} children Tabs\n */\nexport const Tabs = (props, children) => h(view, Object.assign({\n  class: 'osjs-gui osjs-gui-tabs ' + (props.class || '')\n}, props), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nexport const IconViewEntry = (entry, index, props) => () => {\n  const icon = entry.icon || {name: 'application-x-executable'};\n  const selected = props.selectedIndex === index;\n\n  return h('div', {\n    class: 'osjs-gui-icon-view-entry' + (selected ? ' osjs__active' : ''),\n    ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: entry.data, index, ev})),\n    ondblclick: (ev) => props.onactivate({data: entry.data, index, ev}),\n    onclick: (ev) => props.onselect({data: entry.data, index, ev}),\n    oncontextmenu: (ev) => props.oncontextmenu({data: entry.data, index, ev}),\n    oncreate: (el) => props.oncreate({data: entry.data, index, el})\n  }, [\n    h('div', {class: 'osjs__container'}, [\n      h('div', {class: 'osjs__image'}, [\n        h(Icon, icon)\n      ]),\n      h('div', {class: 'osjs__label'}, [\n        h('span', {}, entry.label)\n      ])\n    ])\n  ]);\n};\n\nexport const IconView = (props) => {\n  const inner = h('div', {\n    class: 'osjs-gui-icon-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.entries.map((entry, index) => {\n    return h(IconViewEntry(entry, index, props));\n  }));\n\n  return h(Element, Object.assign({\n    class: 'osjs-gui-icon-view'\n  }, props.box || {}), inner);\n};\n\nexport const iconView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      entries: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => IconView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setEntries: entries => () => ({entries}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex}),\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {string} [props.type=text] Type\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const TextField = (props = {}, children = []) =>\n  createField('text-field', props, {\n    autocomplete: 'off',\n    autocorrect: 'off',\n    autocapitalize: 'off',\n    spellcheck: 'false',\n    type: 'text'\n  }, (fieldProps) => h('input', fieldProps));\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\nimport nestable from 'hyperapp-nestable';\n\nconst view = (state, actions) => (props, children) => {\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-expander-wrapper']\n  }), [\n    h('div', {\n      class: 'osjs-gui-expander-header',\n      onclick: ev => actions.ontoggle({\n        ev,\n        active: !state.active,\n        ontoggle: props.ontoggle\n      })\n    }, [\n      h('div', {\n        class: 'osjs-gui-expander-header-icon',\n        'data-active': String(state.active)\n      }),\n      h('div', {\n        class: 'osjs-gui-expander-header-label'\n      }, props.label)\n    ]),\n    h('div', {\n      class: 'osjs-gui-expander-content',\n      style: {\n        display: state.active === false ? 'none' : undefined\n      }\n    }, children)\n  ]);\n};\n\nconst inner = nestable({\n  active: true\n}, {\n  init: props => ({\n    ative: props.active !== false\n  }),\n  ontoggle: ({ev, active, ontoggle}) => {\n    const cb = ontoggle || function() {};\n    cb(ev, active);\n    return {active};\n  }\n}, view, 'div');\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {boolean} [props.active] Active state\n * @param {Function} [props.ontoggle] Toggle callback => (ev, active)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Expander = (props, children) =>\n  h(inner, Object.assign({}, props, {\n    class: 'osjs-gui osjs-gui-expander'\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A label element\n * @param {Object} props Properties\n * @param {string} [props.text] Label Text\n * @param {string} [props.placement] Placement\n * @param {string} [props.for] The \"for\" attribute\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Label = (props = {}, children = []) => {\n  const placement = props.placement || 'top';\n  const text = props.text || '';\n\n  const elementProps = Object.assign({\n    class: ['osjs-gui-field-label', 'osjs-gui-field-label-on-' + placement]\n  }, props.box || {});\n\n  return h(Element, elementProps, [\n    h('label', {for: props.for}, text),\n    children\n  ]);\n};\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Menu} from './components/Menu';\n\n/*\n * Makes sure sub-menus stays within viewport\n */\nconst clampSubMenu = (root, ev) => {\n  let ul = ev.target.querySelector('ul');\n  if (!ul) {\n    return;\n  }\n\n  // FIXME: Safari reports wrong item\n  if (ul.classList.contains('osjs-gui-menu-container')) {\n    ul = ul.parentNode.parentNode;\n  }\n\n  if (!ul || !ul.offsetParent) {\n    return;\n  }\n\n  ul.classList.remove('clamp-right');\n\n  const rect = ul.getBoundingClientRect();\n  if (rect.right > root.offsetWidth) {\n    ul.classList.add('clamp-right');\n  }\n};\n\n/*\n * Makes sure menu stays within viewport\n */\nconst clampMenu = (root, el, currentPosition) => {\n  const result = {};\n  const bottom = currentPosition.top + el.offsetHeight;\n  const right = currentPosition.left + el.offsetWidth;\n  const offY = root.offsetHeight - currentPosition.top;\n  const offX = root.offsetWidth - currentPosition.left;\n  const overflowRight = right > root.offsetWidth;\n  const overflowBottom = bottom > root.offsetHeight;\n\n  if (overflowBottom) {\n    if (root.offsetHeight > el.offsetHeight) {\n      result.top = root.offsetHeight - el.offsetHeight - offY;\n    }\n  }\n\n  if (overflowRight) {\n    result.left = root.offsetWidth - el.offsetWidth - offX;\n  }\n\n  return (overflowBottom || overflowRight) ? result : null;\n};\n\n/*\n * Context Menu view\n */\nconst view = callback => (props, actions) => h(Menu, {\n  position: props.position,\n  visible: props.visible,\n  menu: props.menu,\n  onclick: callback,\n  onshow: actions.onshow\n});\n\nconst timeout = fn => {\n  fn();\n  return setTimeout(fn, 100);\n};\n\n/**\n * ContextMenu Class\n *\n * @desc Handles a Menu/ContextMenu globally for OS.js\n */\nexport class ContextMenu {\n\n  constructor(core) {\n    this.core = core;\n    this.callback = () => {};\n    this.actions = null;\n    this.$element = document.createElement('div');\n  }\n\n  destroy() {\n    this.callback = null;\n    this.actions = null;\n  }\n\n  /**\n   * Initializes the Menu Hyperapp\n   */\n  init() {\n    let clampTimeout;\n\n    this.$element.className = 'osjs-system-context-menu';\n    this.core.$root.appendChild(this.$element);\n\n    let isActive = false;\n\n    this.actions = app({\n      visible: false,\n      menu: [],\n      position: {\n        top: 0,\n        left: 0\n      }\n    }, {\n      clamp: (el) => props => {\n        el = el || document.querySelector('#osjs-context-menu');\n        clearTimeout(clampTimeout);\n\n        if (el) {\n          const root = this.core.$root;\n          const newPosition = clampMenu(root, el, props.position);\n          if (newPosition) {\n            return {position: newPosition};\n          }\n        }\n\n        return {};\n      },\n      onshow: (ev) => props => {\n        clampTimeout = timeout(() => clampSubMenu(this.core.$root, ev));\n      },\n      show: (options) => (props, actions) => {\n        let {menu, position, toggle} = options;\n        if (toggle && isActive) {\n          return actions.hide();\n        } else if (position instanceof Event) {\n          position = {left: position.clientX, top: position.clientY};\n        } else if (position instanceof Element) {\n          const box = position.getBoundingClientRect();\n          position = {\n            left: box.left,\n            top: box.top + box.height\n          };\n        }\n\n        this.callback = (child, ev, iter) => {\n          if (options.callback) {\n            options.callback(child, ev);\n          }\n\n          if (iter.closeable !== false) {\n            actions.hide();\n          }\n        };\n\n        isActive = true;\n        this.onclose = options.onclose;\n\n        timeout(() => actions.clamp());\n\n        return {\n          visible: true,\n          menu: menu || [],\n          position: position || {top: 0, left: 0}\n        };\n      },\n      hide: () => props => {\n        if (isActive) {\n          setTimeout(() => (isActive = false), 0);\n        }\n        if (this.onclose) {\n          this.onclose();\n        }\n        this.onclose = null;\n        this.callback = null;\n\n        return {visible: false};\n      }\n    }, view((...args) => {\n      if (!this.core.destroyed) {\n        if (this.callback) {\n          this.callback(...args);\n        }\n      }\n    }), this.$element);\n  }\n\n  /**\n   * Show the menu\n   */\n  show(...args) {\n    return this.actions ? this.actions.show(...args) : null;\n  }\n\n  /**\n   * Hide the menu\n   */\n  hide(...args) {\n    return this.actions ? this.actions.hide(...args) : null;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","/*!\r\n * OS.js - JavaScript Cloud/Web Desktop Platform\r\n *\r\n * Copyright (c) Anders Evenrud <andersevenrud@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\r\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n * @author  Anders Evenrud <andersevenrud@gmail.com>\r\n * @licence Simplified BSD License\r\n */\r\n\r\n// TODO: Check if host-system:/ '..' is an issue here\r\n\r\nimport {h, app} from 'hyperapp';\r\n\r\nimport './index.scss';\r\nimport * as translations from './locales.js';\r\nimport {name as applicationName} from './metadata.json';\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  Toolbar,\r\n  Menubar,\r\n  MenubarItem,\r\n  Statusbar,\r\n  Panes,\r\n  listView\r\n} from '@osjs/gui';\r\n\r\n/**\r\n * Creates default settings\r\n */\r\nconst createDefaultSettings =  () => ({\r\n  showHiddenFiles: false,\r\n  showDate: false\r\n});\r\n\r\n/**\r\n * Creates the default window options\r\n */\r\nconst createWindowOptions = (core, proc, title) => {\r\n  const {icon} = core.make('osjs/theme');\r\n\r\n  return {\r\n    id: 'FileManager',\r\n    icon: icon(proc.metadata.icon),\r\n    title,\r\n    attributes: {\r\n      mediaQueries: {\r\n        small: 'screen and (max-width: 400px)'\r\n      }\r\n    },\r\n    dimension: Object.assign({\r\n      width: 400,\r\n      height: 400\r\n    }, core.config('filemanager.defaultWindowSize', {})),\r\n  };\r\n};\r\n\r\n/**\r\n * Diverts callback based on drop action event\r\n */\r\nconst divertDropAction = (browser, virtual) => (ev, data, files) => {\r\n  if (files.length) {\r\n    browser(files);\r\n  } else if (data && data.path && data.filename) {\r\n    virtual(data);\r\n  }\r\n};\r\n\r\n/**\r\n * HoF for dialogs\r\n */\r\nconst usingPositiveButton = cb => (btn, value) => {\r\n  if (['yes', 'ok'].indexOf(btn) !== -1) {\r\n    cb(value);\r\n  }\r\n};\r\n\r\n/**\r\n * Triggers a browser upload\r\n */\r\nconst triggerBrowserUpload = (cb) => {\r\n  const field = document.createElement('input');\r\n  field.type = 'file';\r\n  field.onchange = () => {\r\n    if (field.files.length > 0) {\r\n      cb(field.files);\r\n    }\r\n  };\r\n  field.click();\r\n};\r\n\r\n/**\r\n * Checks if given filename is a dotted\r\n */\r\nconst isSpecialFile = filename => ['..', '.'].indexOf(filename) !== -1;\r\n\r\n/**\r\n * Creates initial paths\r\n */\r\nconst createInitialPaths = (core, proc) => {\r\n  const homePath = {path: core.config('vfs.defaultPath', 'home:/')};\r\n  const initialPath = proc.args.path\r\n    ? Object.assign({}, homePath, proc.args.path)\r\n    : homePath;\r\n\r\n  return {homePath, initialPath};\r\n};\r\n\r\nconst getDirectoryCount = files =>\r\n  files.filter(file => file.isDirectory).length;\r\nconst getFileCount = files =>\r\n  files.filter(file => !file.isDirectory).length;\r\nconst getTotalSize = files =>\r\n  files.reduce((total, file) => total + (file.size || 0), 0);\r\n\r\n/**\r\n * Formats directory status message\r\n */\r\nconst formatStatusMessage = (core, files) => {\r\n  const {translatable} = core.make('osjs/locale');\r\n  const __ = translatable(translations);\r\n\r\n  return (path, files) => {\r\n    const directoryCount = getDirectoryCount(files);\r\n    const fileCount = getFileCount(files);\r\n    const totalSize = getTotalSize(files);\r\n    const directoryCountMessage = `${directoryCount} ${__(directoryCount === 1 ? 'SINGLE_DIR' : 'MULTI_DIR')}`;\r\n    const fileCountMessage = `${fileCount} ${__(fileCount === 1 ? 'SINGLE_FILE' : 'MULTI_FILE')}`;\r\n\r\n    if (directoryCount > 0 && fileCount > 0) {\r\n      return __('LBL_DIR_AND_FILE_STATUS', directoryCountMessage, fileCountMessage, totalSize);\r\n    } else if (directoryCount > 0) {\r\n      return __('LBL_DIR_OR_FILE_STATUS', directoryCountMessage, totalSize);\r\n    } else {\r\n      return __('LBL_DIR_OR_FILE_STATUS', fileCountMessage, totalSize);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Mount view rows Factory\r\n */\r\nconst mountViewRowsFactory = (core) => {\r\n  const fs = core.make('osjs/fs');\r\n  const getMountpoints = () => fs.mountpoints(true);\r\n\r\n  return () => getMountpoints().map(m => ({\r\n    columns: [{\r\n      icon: m.icon,\r\n      label: m.label\r\n    }],\r\n    data: m\r\n  }));\r\n};\r\n\r\n/**\r\n * File view columns Factory\r\n */\r\nconst listViewColumnFactory = (core, proc) => {\r\n  const {translate: _, translatable} = core.make('osjs/locale');\r\n  const __ = translatable(translations);\r\n\r\n  return () => {\r\n    const columns = [{\r\n      label: _('LBL_NAME'),\r\n      style: {\r\n        minWidth: '20em'\r\n      }\r\n    }];\r\n\r\n    if (proc.settings.showDate) {\r\n      columns.push({\r\n        label: __('LBL_DATE')\r\n      });\r\n    }\r\n\r\n    return [\r\n      ...columns,\r\n      {\r\n        label: _('LBL_TYPE'),\r\n        style: {\r\n          maxWidth: '150px'\r\n        }\r\n      }, {\r\n        label: _('LBL_SIZE'),\r\n        style: {\r\n          flex: '0 0 7em',\r\n          textAlign: 'right'\r\n        }\r\n      }\r\n    ];\r\n  };\r\n};\r\n\r\n/**\r\n * File view rows Factory\r\n */\r\nconst listViewRowFactory = (core, proc) => {\r\n  const fs = core.make('osjs/fs');\r\n  const {format: formatDate} = core.make('osjs/locale');\r\n  const getFileIcon = file => file.icon || fs.icon(file);\r\n\r\n  const formattedDate = f => {\r\n    if (f.stat) {\r\n      const rawDate = f.stat.mtime || f.stat.ctime;\r\n      if (rawDate) {\r\n        try {\r\n          const d = new Date(rawDate);\r\n          return `${formatDate(d, 'shortDate')} ${formatDate(d, 'shortTime')}`;\r\n        } catch (e) {\r\n          return rawDate;\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  };\r\n\r\n  return (list) => list.map(f => {\r\n    const columns = [{\r\n      label: f.filename,\r\n      icon: getFileIcon(f)\r\n    }];\r\n\r\n    if (proc.settings.showDate) {\r\n      columns.push(formattedDate(f));\r\n    }\r\n\r\n    return {\r\n      key: f.path,\r\n      data: f,\r\n      columns: [\r\n        ...columns,\r\n        f.mime,\r\n        f.humanSize\r\n      ]\r\n    };\r\n  });\r\n};\r\n\r\n/**\r\n * VFS action Factory\r\n */\r\nconst vfsActionFactory = (core, proc, win, dialog, state) => {\r\n  const vfs = core.make('osjs/vfs');\r\n  const {pathJoin} = core.make('osjs/fs');\r\n  const {translatable} = core.make('osjs/locale');\r\n  const __ = translatable(translations);\r\n\r\n  const refresh = (fileOrWatch) => {\r\n    // FIXME This should be implemented a bit better\r\n    /*\r\n    if (fileOrWatch === true && core.config('vfs.watch')) {\r\n      return;\r\n    }\r\n    */\r\n\r\n    win.emit('filemanager:navigate', state.currentPath, undefined, fileOrWatch);\r\n  };\r\n\r\n  const action = async (promiseCallback, refreshValue, defaultError) => {\r\n    try {\r\n      win.setState('loading', true);\r\n\r\n      const result = await promiseCallback();\r\n      refresh(refreshValue);\r\n      return result;\r\n    } catch (error) {\r\n      dialog('error', error, defaultError || __('MSG_ERROR'));\r\n    } finally {\r\n      win.setState('loading', false);\r\n    }\r\n\r\n    return [];\r\n  };\r\n\r\n  const writeRelative = f => {\r\n    const d = dialog('progress', f);\r\n\r\n    return vfs.writefile({\r\n      path: pathJoin(state.currentPath.path, f.name)\r\n    }, f, {\r\n      pid: proc.pid,\r\n      onProgress: (ev, p) => d.setProgress(p)\r\n    }).then((result) => {\r\n      d.destroy();\r\n      return result;\r\n    }).catch((error) => {\r\n      d.destroy();\r\n      throw error;\r\n    });\r\n  };\r\n\r\n  const uploadBrowserFiles = (files) => {\r\n    Promise.all(files.map(writeRelative))\r\n      .then(() => refresh(files[0].name)) // FIXME: Select all ?\r\n      .catch(error => dialog('error', error, __('MSG_UPLOAD_ERROR')));\r\n  };\r\n\r\n  const uploadVirtualFile = (data) => {\r\n    const dest = {path: pathJoin(state.currentPath.path, data.filename)};\r\n    if (dest.path !== data.path) {\r\n      action(() => vfs.copy(data, dest, {pid: proc.pid}), true, __('MSG_UPLOAD_ERROR'));\r\n    }\r\n  };\r\n\r\n  const drop = divertDropAction(uploadBrowserFiles, uploadVirtualFile);\r\n\r\n  const readdir = async (dir, history, selectFile) => {\r\n    if (win.getState('loading')) {\r\n      return;\r\n    } else if (Array.isArray(dir)) {\r\n      dir = dir[0];\r\n    }\r\n\r\n    try {\r\n      const message = __('LBL_LOADING', dir.path);\r\n      const options = {\r\n        showHiddenFiles: proc.settings.showHiddenFiles\r\n      };\r\n\r\n      win.setState('loading', true);\r\n      win.emit('filemanager:status', message);\r\n\r\n      const list = await vfs.readdir(dir, options);\r\n\r\n      // NOTE: This sets a restore argument in the application session\r\n      proc.args.path = dir;\r\n\r\n      state.currentPath = dir;\r\n\r\n      if (typeof history === 'undefined' || history === false) {\r\n        win.emit('filemanager:historyPush', dir);\r\n      } else if (history ===  'clear') {\r\n        win.emit('filemanager:historyClear');\r\n      }\r\n\r\n      win.emit('filemanager:readdir', {list, path: dir.path, selectFile});\r\n      win.emit('filemanager:title', dir.path);\r\n    } catch (error) {\r\n      dialog('error', error, __('MSG_READDIR_ERROR', dir.path));\r\n    } finally {\r\n      state.currentFile = [];\r\n      win.setState('loading', false);\r\n    }\r\n  };\r\n\r\n  const upload = () => triggerBrowserUpload(files => {\r\n    writeRelative(files[0])\r\n      .then(() => refresh(files[0].name))\r\n      .catch(error => dialog('error', error, __('MSG_UPLOAD_ERROR')));\r\n  });\r\n\r\n  const paste = (move, currentPath) => ({items, callback}) => {\r\n    const promises = items.map(item => {\r\n      const dest = {\r\n        path: pathJoin(currentPath.path, item.filename)\r\n      };\r\n\r\n      return move\r\n        ? vfs.move(item, dest, {pid: proc.pid})\r\n        : vfs.copy(item, dest, {pid: proc.pid});\r\n    });\r\n\r\n    return Promise\r\n      .all(promises)\r\n      .then(results => {\r\n        refresh(true);\r\n\r\n        if (typeof callback === 'function') {\r\n          callback();\r\n        }\r\n\r\n        return results;\r\n      })\r\n      .catch(error => dialog('error', error, __('MSG_PASTE_ERROR')));\r\n  };\r\n\r\n  return {\r\n    download: files => files.forEach(file => vfs.download(file)),\r\n    upload,\r\n    refresh,\r\n    action,\r\n    drop,\r\n    readdir,\r\n    paste\r\n  };\r\n};\r\n\r\n/**\r\n * Clipboard action Factory\r\n */\r\nconst clipboardActionFactory = (core, state, vfs) => {\r\n  const clipboard = core.make('osjs/clipboard');\r\n\r\n  const set = item => clipboard.set(({item}), 'filemanager:copy');\r\n\r\n  const cut = item => clipboard.set(({\r\n    item,\r\n    callback: () => core.config('vfs.watch') ? undefined : vfs.refresh(true)\r\n  }), 'filemanager:move');\r\n\r\n  const paste = () => {\r\n    if (clipboard.has(/^filemanager:/)) {\r\n      const move = clipboard.has('filemanager:move');\r\n      clipboard.get(move)\r\n        .then(vfs.paste(move, state.currentPath));\r\n    }\r\n  };\r\n\r\n  return {set, cut, paste};\r\n};\r\n\r\n/**\r\n * Dialog Factory\r\n */\r\nconst dialogFactory = (core, proc, win) => {\r\n  const vfs = core.make('osjs/vfs');\r\n  const {pathJoin} = core.make('osjs/fs');\r\n  const {translatable} = core.make('osjs/locale');\r\n  const __ = translatable(translations);\r\n\r\n  const dialog = (name, args, cb, modal = true) => core.make('osjs/dialog', name, args, {\r\n    parent: win,\r\n    attributes: {modal}\r\n  }, cb);\r\n\r\n  const mkdirDialog = (action, currentPath) => dialog('prompt', {\r\n    message: __('DIALOG_MKDIR_MESSAGE'),\r\n    value: __('DIALOG_MKDIR_PLACEHOLDER')\r\n  }, usingPositiveButton(value => {\r\n    const newPath = pathJoin(currentPath.path, value);\r\n    action(\r\n      () => vfs.mkdir({path: newPath}, {pid: proc.pid}),\r\n      value,\r\n      __('MSG_MKDIR_ERROR')\r\n    );\r\n  }));\r\n\r\n  const renameDialog = (action, files) => files.forEach(file =>\r\n    dialog('prompt', {\r\n      message: __('DIALOG_RENAME_MESSAGE', file.filename),\r\n      value: file.filename\r\n    }, usingPositiveButton(value => {\r\n      const idx = file.path.lastIndexOf(file.filename);\r\n      const newPath = file.path.substr(0, idx) + value;\r\n\r\n      action(() => vfs.rename(file, {path: newPath}), value, __('MSG_RENAME_ERROR'));\r\n    })));\r\n\r\n  const deleteDialog = (action, files) => dialog('confirm', {\r\n    message: __('DIALOG_DELETE_MESSAGE', files.length),\r\n  }, usingPositiveButton(() => {\r\n    action(\r\n      () => Promise.all(\r\n        files.map(file => vfs.unlink(file, {pid: proc.pid}))\r\n      ),\r\n      true,\r\n      __('MSG_DELETE_ERROR')\r\n    );\r\n  }));\r\n\r\n  const progressDialog = (file) => dialog('progress', {\r\n    message: __('DIALOG_PROGRESS_MESSAGE', file.name),\r\n    buttons: []\r\n  }, () => {}, false);\r\n\r\n  const errorDialog = (error, message) => dialog('alert', {\r\n    type: 'error',\r\n    error,\r\n    message\r\n  }, () => {});\r\n\r\n  const dialogs = {\r\n    mkdir: mkdirDialog,\r\n    rename: renameDialog,\r\n    delete: deleteDialog,\r\n    progress: progressDialog,\r\n    error: errorDialog\r\n  };\r\n\r\n  return (name, ...args) => {\r\n    if (dialogs[name]) {\r\n      return dialogs[name](...args);\r\n    } else {\r\n      throw new Error(`Invalid dialog: ${name}`);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Creates Menus\r\n */\r\nconst menuFactory = (core, proc, win) => {\r\n  const fs = core.make('osjs/fs');\r\n  const clipboard = core.make('osjs/clipboard');\r\n  const contextmenu = core.make('osjs/contextmenu');\r\n  const {translate: _, translatable} = core.make('osjs/locale');\r\n\r\n  const __ = translatable(translations);\r\n  const getMountpoints = () => fs.mountpoints(true);\r\n\r\n  const menuItemsFromMiddleware = async (type, middlewareArgs) => {\r\n    if (!core.has('osjs/middleware')) {\r\n      return [];\r\n    }\r\n\r\n    const items = core.make('osjs/middleware')\r\n      .get(`osjs/filemanager:menu:${type}`);\r\n\r\n    const promises = items.map(fn => fn(middlewareArgs));\r\n\r\n    const resolved = await Promise.all(promises);\r\n    const result = resolved\r\n      .filter(items => items instanceof Array);\r\n\r\n    return [].concat(...result);\r\n  };\r\n\r\n  const createFileMenu = () => ([\r\n    {label: _('LBL_UPLOAD'), onclick: () => win.emit('filemanager:menu:upload')},\r\n    {label: _('LBL_MKDIR'), onclick: () => win.emit('filemanager:menu:mkdir')},\r\n    {label: _('LBL_QUIT'), onclick: () => win.emit('filemanager:menu:quit')}\r\n  ]);\r\n\r\n  const createEditMenu = async (items, isContextMenu) => {\r\n    const emitter = name => win.emit(name, items);\r\n    const item = items[items.length - 1];\r\n\r\n    if (items.length === 1 && item && isSpecialFile(item.filename)) {\r\n      return [{\r\n        label: _('LBL_GO'),\r\n        onclick: () => emitter('filemanager:navigate'),\r\n      }];\r\n    }\r\n\r\n    const canDownload = items.some(\r\n      item => !item.isDirectory && !isSpecialFile(item.filename)\r\n    );\r\n    const hasValidFile = items.some(item => !isSpecialFile(item.filename));\r\n    const isDirectory = items.length === 1 && item.isDirectory;\r\n\r\n    const openMenu = isDirectory ? [{\r\n      label: _('LBL_GO'),\r\n      disabled: !items.length,\r\n      onclick: () => emitter('filemanager:navigate')\r\n    }] : [{\r\n      label: _('LBL_OPEN'),\r\n      disabled: !items.length,\r\n      onclick: () => emitter('filemanager:open')\r\n    }, {\r\n      label: __('LBL_OPEN_WITH'),\r\n      disabled: !items.length,\r\n      onclick: () => emitter('filemanager:openWith')\r\n    }];\r\n\r\n    const clipboardMenu = [{\r\n      label: _('LBL_COPY'),\r\n      disabled: !hasValidFile,\r\n      onclick: () => emitter('filemanager:menu:copy')\r\n    }, {\r\n      label: _('LBL_CUT'),\r\n      disabled: !hasValidFile,\r\n      onclick: () => emitter('filemanager:menu:cut')\r\n    }];\r\n\r\n    if (!isContextMenu) {\r\n      clipboardMenu.push({\r\n        label: _('LBL_PASTE'),\r\n        disabled: !clipboard.has(/^filemanager:/),\r\n        onclick: () => emitter('filemanager:menu:paste')\r\n      });\r\n    }\r\n\r\n    const appendItems = await menuItemsFromMiddleware('edit', {file: item, isContextMenu});\r\n    const configuredItems = [];\r\n\r\n    if (core.config('filemanager.disableDownload', false) !== true) {\r\n      configuredItems.push({\r\n        label: _('LBL_DOWNLOAD'),\r\n        disabled: !canDownload,\r\n        onclick: () => emitter('filemanager:menu:download')\r\n      });\r\n    }\r\n\r\n    return [\r\n      ...openMenu,\r\n      {\r\n        label: _('LBL_RENAME'),\r\n        disabled: !hasValidFile,\r\n        onclick: () => emitter('filemanager:menu:rename')\r\n      },\r\n      {\r\n        label: _('LBL_DELETE'),\r\n        disabled: !hasValidFile,\r\n        onclick: () => emitter('filemanager:menu:delete')\r\n      },\r\n      ...clipboardMenu,\r\n      ...configuredItems,\r\n      ...appendItems\r\n    ];\r\n  };\r\n\r\n  const createViewMenu = (state) => ([\r\n    {label: _('LBL_REFRESH'), onclick: () => win.emit('filemanager:menu:refresh')},\r\n    {label: __('LBL_MINIMALISTIC'), checked: state.minimalistic, onclick: () => win.emit('filemanager:menu:toggleMinimalistic')},\r\n    {label: __('LBL_SHOW_DATE'), checked: proc.settings.showDate, onclick: () => win.emit('filemanager:menu:showDate')},\r\n    {label: __('LBL_SHOW_HIDDEN_FILES'), checked: proc.settings.showHiddenFiles, onclick: () => win.emit('filemanager:menu:showHidden')}\r\n  ]);\r\n\r\n  const createGoMenu = () => getMountpoints().map(m => ({\r\n    label: m.label,\r\n    icon: m.icon,\r\n    onclick: () => win.emit('filemanager:navigate', {path: m.root})\r\n  }));\r\n\r\n  const menuItems = {\r\n    file: createFileMenu,\r\n    edit: createEditMenu,\r\n    view: createViewMenu,\r\n    go: createGoMenu\r\n  };\r\n\r\n  return async ({name, ev}, args, isContextMenu = false) => {\r\n    if (menuItems[name]) {\r\n      contextmenu.show({\r\n        menu: await menuItems[name](args, isContextMenu),\r\n        position: isContextMenu ? ev : ev.target\r\n      });\r\n    } else {\r\n      throw new Error(`Invalid menu: ${name}`);\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Creates a new FileManager user interface view\r\n */\r\nconst createView = (core, proc, win) => {\r\n  const {icon} = core.make('osjs/theme');\r\n  const {translate: _} = core.make('osjs/locale');\r\n\r\n  const onMenuClick = (name, args) => ev => win.emit('filemanager:menu', {ev, name}, args);\r\n  const onInputEnter = (ev, value) => win.emit('filemanager:navigate', {path: value});\r\n\r\n  const canGoBack = ({list, index}) => !list.length || index <= 0;\r\n  const canGoForward = ({list, index}) => !list.length || (index === list.length - 1);\r\n\r\n  return (state, actions) => {\r\n    const FileView = listView.component(state.fileview, actions.fileview);\r\n    const MountView = listView.component(state.mountview, actions.mountview);\r\n\r\n    return h(Box, {\r\n      class: state.minimalistic ? 'osjs-filemanager-minimalistic' : ''\r\n    }, [\r\n      h(Menubar, {}, [\r\n        h(MenubarItem, {onclick: onMenuClick('file')}, _('LBL_FILE')),\r\n        h(MenubarItem, {onclick: onMenuClick('edit')}, _('LBL_EDIT')),\r\n        h(MenubarItem, {onclick: onMenuClick('view', state)}, _('LBL_VIEW')),\r\n        h(MenubarItem, {onclick: onMenuClick('go')}, _('LBL_GO'))\r\n      ]),\r\n      h(Toolbar, {}, [\r\n        h(Button, {\r\n          title: _('LBL_BACK'),\r\n          icon: icon('go-previous'),\r\n          disabled: canGoBack(state.history),\r\n          onclick: () => actions.history.back()\r\n        }),\r\n        h(Button, {\r\n          title: _('LBL_FORWARD'),\r\n          icon: icon('go-next'),\r\n          disabled: canGoForward(state.history),\r\n          onclick: () => actions.history.forward()\r\n        }),\r\n        h(Button, {\r\n          title: _('LBL_HOME'),\r\n          icon: icon('go-home'),\r\n          onclick: () => win.emit('filemanager:home')\r\n        }),\r\n        h(TextField, {\r\n          value: state.path,\r\n          box: {grow: 1, shrink: 1},\r\n          onenter: onInputEnter\r\n        })\r\n      ]),\r\n      h(Panes, {style: {flex: '1 1'}}, [\r\n        h(MountView),\r\n        h(FileView)\r\n      ]),\r\n      h(Statusbar, {}, h('span', {}, state.status))\r\n    ]);\r\n  };\r\n};\r\n\r\n/**\r\n * Creates a new FileManager user interface\r\n */\r\nconst createApplication = (core, proc) => {\r\n  const createColumns = listViewColumnFactory(core, proc);\r\n  const createRows = listViewRowFactory(core, proc);\r\n  const createMounts = mountViewRowsFactory(core);\r\n  const {draggable} = core.make('osjs/dnd');\r\n\r\n  const initialState = {\r\n    path: '',\r\n    status: '',\r\n    minimalistic: false,\r\n\r\n    history: {\r\n      index: -1,\r\n      list: []\r\n    },\r\n\r\n    mountview: listView.state({\r\n      class: 'osjs-gui-fill',\r\n      columns: ['Name'],\r\n      hideColumns: true,\r\n      rows: createMounts()\r\n    }),\r\n\r\n    fileview: listView.state({\r\n      columns: [],\r\n      multiselect: true,\r\n      previousSelectedIndex: 0\r\n    })\r\n  };\r\n\r\n  const createActions = (win) => ({\r\n    history: {\r\n      clear: () => ({index: -1, list: []}),\r\n\r\n      push: (path) => ({index, list}) => {\r\n        const newList = index === -1 ? [] : list;\r\n        const lastHistory = newList[newList.length - 1];\r\n        const newIndex = lastHistory === path\r\n          ? newList.length - 1\r\n          : newList.push(path) - 1;\r\n\r\n        return {list: newList, index: newIndex};\r\n      },\r\n\r\n      back: () => ({index, list}) => {\r\n        const newIndex = Math.max(0, index - 1);\r\n        win.emit('filemanager:navigate', list[newIndex], true);\r\n        return {index: newIndex};\r\n      },\r\n\r\n      forward: () => ({index, list}) => {\r\n        const newIndex = Math.min(list.length - 1, index + 1);\r\n        win.emit('filemanager:navigate', list[newIndex], true);\r\n        return {index: newIndex};\r\n      }\r\n    },\r\n\r\n    toggleMinimalistic: () => ({minimalistic}) => ({minimalistic: !minimalistic}),\r\n\r\n    setPath: path => ({path}),\r\n    setStatus: status => ({status}),\r\n    setMinimalistic: minimalistic => ({minimalistic}),\r\n    setList: ({list, path, selectFile}) => ({fileview, mountview}) => {\r\n      let selectedIndex = [];\r\n\r\n      if (selectFile) {\r\n        const foundIndex = list.findIndex(file => file.filename === selectFile);\r\n        if (foundIndex !== -1) {\r\n          selectedIndex = [foundIndex];\r\n        }\r\n      }\r\n\r\n      return {\r\n        path,\r\n        status: formatStatusMessage(core)(path, list),\r\n        mountview: Object.assign({}, mountview, {\r\n          rows: createMounts()\r\n        }),\r\n        fileview: Object.assign({}, fileview, {\r\n          selectedIndex,\r\n          columns: createColumns(),\r\n          rows: createRows(list)\r\n        })\r\n      };\r\n    },\r\n\r\n    mountview: listView.actions({\r\n      select: ({data}) => win.emit('filemanager:navigate', {path: data.root})\r\n    }),\r\n\r\n    fileview: listView.actions({\r\n      select: ({data}) => win.emit('filemanager:select', data),\r\n      activate: ({data}) =>\r\n        (Array.isArray(data) ? data : [data]).forEach(item =>\r\n          win.emit(`filemanager:${item.isFile ? 'open' : 'navigate'}`, item)\r\n        ),\r\n      contextmenu: args => win.emit('filemanager:contextmenu', args),\r\n      created: ({el, data}) => {\r\n        if (data.isFile) {\r\n          draggable(el, {data});\r\n        }\r\n      }\r\n    })\r\n  });\r\n\r\n  return ($content, win) => {\r\n    const actions = createActions(win);\r\n    const view = createView(core, proc, win);\r\n    return app(initialState, actions, view, $content);\r\n  };\r\n};\r\n\r\n/**\r\n * Creates a new FileManager window\r\n */\r\nconst createWindow = (core, proc) => {\r\n  let wired;\r\n  const state = {currentFile: [], currentPath: undefined};\r\n  const {homePath, initialPath} = createInitialPaths(core, proc);\r\n\r\n  const title = core.make('osjs/locale').translatableFlat(proc.metadata.title);\r\n  const win = proc.createWindow(createWindowOptions(core, proc, title));\r\n  const render = createApplication(core, proc);\r\n  const dialog = dialogFactory(core, proc, win);\r\n  const createMenu = menuFactory(core, proc, win);\r\n  const vfs = vfsActionFactory(core, proc, win, dialog, state);\r\n  const clipboard = clipboardActionFactory(core, state, vfs);\r\n\r\n  const setSetting = (key, value) => proc.emit('filemanager:setting', key, value);\r\n  const onTitle = append => win.setTitle(`${title} - ${append}`);\r\n  const onStatus = message => wired.setStatus(message);\r\n  const onRender = () => vfs.readdir(initialPath);\r\n  const onDestroy = () => proc.destroy();\r\n  const onDrop = (...args) => vfs.drop(...args);\r\n  const onHome = () => vfs.readdir(homePath, 'clear');\r\n  const onNavigate = (...args) => vfs.readdir(...args);\r\n  const onSelectItem = files => (state.currentFile = files);\r\n  const onSelectStatus = files => win.emit('filemanager:status', formatStatusMessage(core)(state.currentPath, Array.isArray(files) ? files : [files]));\r\n  const onContextMenu = ({ev, data}) => createMenu({ev, name: 'edit'}, data, true);\r\n  const onReaddirRender = args => wired.setList(args);\r\n  const onRefresh = (...args) => vfs.refresh(...args);\r\n  const onOpen = files => {\r\n    if (!Array.isArray(files)) {\r\n      files = [files];\r\n    }\r\n\r\n    return files.forEach(\r\n      file => core.open(file, {useDefault: true})\r\n    );\r\n  };\r\n  const onOpenWith = files => {\r\n    if (!Array.isArray(files)) {\r\n      files = [files];\r\n    }\r\n\r\n    return files.forEach(\r\n      file => core.open(file, {useDefault: true, forceDialog: true})\r\n    );\r\n  };\r\n  const onHistoryPush = file => wired.history.push(file);\r\n  const onHistoryClear = () => wired.history.clear();\r\n  const onMenu = (props, args) => createMenu(props, args || state.currentFile);\r\n  const onMenuUpload = (...args) => vfs.upload(...args);\r\n  const onMenuMkdir = () => dialog('mkdir', vfs.action, state.currentPath);\r\n  const onMenuQuit = () => proc.destroy();\r\n  const onMenuRefresh = () => vfs.refresh();\r\n  const onMenuToggleMinimalistic = () => wired.toggleMinimalistic();\r\n  const onMenuShowDate = () => setSetting('showDate', !proc.settings.showDate);\r\n  const onMenuShowHidden = () => setSetting('showHiddenFiles', !proc.settings.showHiddenFiles);\r\n  const onMenuRename = files => dialog('rename', vfs.action, files);\r\n  const onMenuDelete = files => dialog('delete', vfs.action, files);\r\n  const onMenuDownload = (files) => vfs.download(files);\r\n  const onMenuCopy = items => clipboard.set(items);\r\n  const onMenuCut = items => clipboard.cut(items);\r\n  const onMenuPaste = () => clipboard.paste();\r\n\r\n  return win\r\n    .once('render', () => win.focus())\r\n    .once('destroy', () => (wired = undefined))\r\n    .once('render', onRender)\r\n    .once('destroy', onDestroy)\r\n    .on('drop', onDrop)\r\n    .on('filemanager:title', onTitle)\r\n    .on('filemanager:status', onStatus)\r\n    .on('filemanager:menu', onMenu)\r\n    .on('filemanager:home', onHome)\r\n    .on('filemanager:navigate', onNavigate)\r\n    .on('filemanager:select', onSelectItem)\r\n    .on('filemanager:select', onSelectStatus)\r\n    .on('filemanager:contextmenu', onContextMenu)\r\n    .on('filemanager:readdir', onReaddirRender)\r\n    .on('filemanager:refresh', onRefresh)\r\n    .on('filemanager:open', onOpen)\r\n    .on('filemanager:openWith', onOpenWith)\r\n    .on('filemanager:historyPush', onHistoryPush)\r\n    .on('filemanager:historyClear', onHistoryClear)\r\n    .on('filemanager:menu:upload', onMenuUpload)\r\n    .on('filemanager:menu:mkdir', onMenuMkdir)\r\n    .on('filemanager:menu:quit', onMenuQuit)\r\n    .on('filemanager:menu:refresh', onMenuRefresh)\r\n    .on('filemanager:menu:toggleMinimalistic', onMenuToggleMinimalistic)\r\n    .on('filemanager:menu:showDate', onMenuShowDate)\r\n    .on('filemanager:menu:showHidden', onMenuShowHidden)\r\n    .on('filemanager:menu:copy', onMenuCopy)\r\n    .on('filemanager:menu:cut', onMenuCut)\r\n    .on('filemanager:menu:paste', onMenuPaste)\r\n    .on('filemanager:menu:rename', onMenuRename)\r\n    .on('filemanager:menu:delete', onMenuDelete)\r\n    .on('filemanager:menu:download', onMenuDownload)\r\n    .render(($content, win) => (wired = render($content, win)));\r\n};\r\n\r\n/**\r\n * Launches the OS.js application process\r\n */\r\nconst createProcess = (core, args, options, metadata) => {\r\n  const proc = core.make('osjs/application', {\r\n    args,\r\n    metadata,\r\n    options: Object.assign({}, options, {\r\n      settings: createDefaultSettings()\r\n    })\r\n  });\r\n\r\n\r\n  const win = createWindow(core, proc);\r\n\r\n  const onSettingsUpdate = (settings) => {\r\n    proc.settings = Object.assign({}, proc.settings, settings);\r\n    win.emit('filemanager:refresh');\r\n  };\r\n\r\n  const onSetting = (key, value) => {\r\n    onSettingsUpdate({[key]: value});\r\n\r\n    proc.saveSettings()\r\n      .then(() => core.broadcast('osjs:filemanager:remote', proc.settings))\r\n      .catch(error => console.warn(error));\r\n  };\r\n\r\n  proc.on('osjs:filemanager:remote', onSettingsUpdate);\r\n  proc.on('filemanager:setting', onSetting);\r\n\r\n  const listener = (args) => {\r\n    if (args.pid === proc.pid) {\r\n      return;\r\n    }\r\n\r\n    const currentPath = String(proc.args.path.path).replace(/\\/$/, '');\r\n    const watchPath = String(args.path).replace(/\\/$/, '');\r\n    if (currentPath === watchPath) {\r\n      win.emit('filemanager:refresh');\r\n    }\r\n  };\r\n\r\n  core.on('osjs/vfs:directoryChanged', listener);\r\n  proc.on('destroy', () => core.off('osjs/vfs:directoryChanged', listener));\r\n\r\n  return proc;\r\n};\r\n\r\nOSjs.make(\"osjs/packages\").register(applicationName, createProcess);"],"names":["Object","e","Symbol","destroy","h","name","attributes","rest","children","length","arguments","node","en_EN","sv_SE","nb_NO","vi_VN","pt_BR","fr_FR","tr_TR","module","arr","len","i","arr2","Array","exports","m","isArray","arrayLikeToArray","iter","iterator","from","o","minLen","n","prototype","toString","call","slice","constructor","test","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","push","pop","nodeName","key","app","state","actions","view","container","resolveNode","globalState","wiredActions","render","skipRender","rootElement","patch","parent","element","oldNode","isSvg","newElement","createElement","document","createTextNode","createElementNS","oncreate","lifecycle","appendChild","updateAttribute","insertBefore","removeElement","nodeValue","updateElement","oldAttributes","clone","cb","isRecycling","onupdate","oldKeyed","newKeyed","oldElements","oldChildren","childNodes","oldKey","getKey","k","newKey","keyedNode","scheduleRender","setTimeout","target","source","out","getPartialState","path","eventListener","event","currentTarget","events","type","value","oldValue","addEventListener","removeEventListener","setAttribute","removeAttribute","style","cssText","setProperty","done","removeChild","removeChildren","ondestroy","onremove","map","recycleElement","toLowerCase","nodeType","wireStateToActions","action","data","result","then","setPartialState","concat","unitValue","unset","boxPropNames","flexGrow","flexShrink","flexBasis","alignItems","justifyContent","margin","Element","props","classNames","orientation","defaultStyle","assign","keys","reduce","prop","filter","s","join","Box","_typeof","obj","Icon","src","backgroundImage","defineProperty","enumerable","configurable","writable","filteredProps","filterKeys","indexOf","doubleTap","timer","timeout","tapped","ev","clearTimeout","preventDefault","createField","defaultProps","cbInput","oninput","onchange","onkeydown","getValue","fieldProps","keyCode","onenter","box","Button","inner","icon","label","ul","level","child","checked","disabled","items","onmouseover","onshow","ontouchend","onclick","Menu","id","className","display","visible","top","position","String","left","menu","Toolbar","Statusbar","MenubarItem","parentNode","index","Menubar","item","nestable","tagname","_$r","class","el","wired","a","v","_$p","_$c","_$u","uninit","init","onmousedown","Math","min","clientX","clientY","pane","previousSibling","offsetWidth","offsetHeight","maxWidth","maxHeight","mousemove","size","setSize","mouseup","panes","spacers","ceil","fill","c","w","sizes","flex","b","Panes","tapper","createView","debounceScroll","col","hideColumns","zebra","rows","row","rowIndex","columns","selected","selectedIndex","colIcon","unshift","onactivate","ondblclick","onselect","oncontextmenu","onscroll","scrollTop","newProps","select","setSelectedIndex","activate","contextmenu","args","created","scroll","headers","labels","TextField","autocomplete","autocorrect","autocapitalize","spellcheck","active","ative","ontoggle","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","fn","self","err","apply","instance","Constructor","_defineProperties","descriptor","protoProps","staticProps","runtime","define","wrap","innerFn","outerFn","tryLocsList","context","generator","create","protoGenerator","Generator","Context","_invoke","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","undefined","ContinueSentinel","record","tryCatch","resultName","next","nextLoc","sent","_sent","dispatchException","abrupt","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","hasOwn","__await","unwrapped","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","values","iterable","iteratorMethod","iteratorSymbol","isNaN","Op","hasOwnProperty","$Symbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","object","reverse","skipTempReset","prev","charAt","rootRecord","rootEntry","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","t","thrown","regeneratorRuntime","accidentalStrictMode","globalThis","Function","clampSubMenu","root","querySelector","classList","contains","offsetParent","remove","rect","getBoundingClientRect","right","add","clampMenu","currentPosition","bottom","offY","offX","overflowRight","overflowBottom","ContextMenu","core","callback","$element","clampTimeout","$root","isActive","newPosition","_this","options","toggle","hide","Event","height","closeable","onclose","clamp","destroyed","show","validContextMenuTarget","isValid","tagName","getElementById","require$$0","contextmenuApi","stopPropagation","_this2","once","usingPositiveButton","btn","triggerBrowserUpload","field","isSpecialFile","filename","createInitialPaths","proc","homePath","initialPath","formatStatusMessage","files","__","translatable","translations","directoryCount","file","fileCount","totalSize","total","directoryCountMessage","fileCountMessage","mountViewRowsFactory","fs","getMountpoints","listViewColumnFactory","_core_make","_","listViewRowFactory","formatDate","formattedDate","f","rawDate","d","Date","list","vfsActionFactory","win","dialog","browser","virtual","vfs","pathJoin","refresh","fileOrWatch","promiseCallback","refreshValue","defaultError","writeRelative","p","drop","dest","upload","readdir","dir","history","selectFile","message","paste","move","currentPath","results","clipboardActionFactory","clipboard","set","cut","dialogFactory","modal","dialogs","newPath","idx","_dialogs","menuFactory","menuItems","isContextMenu","emitter","canDownload","hasValidFile","openMenu","clipboardMenu","appendItems","configuredItems","middlewareArgs","isDirectory","_instance","resolved","onMenuClick","onInputEnter","canGoBack","canGoForward","FileView","listView","MountView","createApplication","createColumns","createRows","createMounts","draggable","initialState","$content","newList","newIndex","lastHistory","minimalistic","status","fileview","mountview","foundIndex","createWindow","_vfs","_vfs1","_vfs2","_vfs3","_createInitialPaths","title","createMenu","setSetting","append","OSjs","metadata","onSettingsUpdate","settings","console","listener"],"mappings":"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"}